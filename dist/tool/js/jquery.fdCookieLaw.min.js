/*!
 *  FDC CookieLaw Tool - v1.8.0
 *  Cookie & Privacy management tool
 *  GitHub: https://github.com/FattiDiCookies/italianPrivacyPolicy/tree/master/dist/tool
 *  Docs: https://github.com/FattiDiCookies/italianPrivacyPolicy/wiki/FDC-Tool
 *  Bugs: https://github.com/FattiDiCookies/italianPrivacyPolicy/issues
 *
 *  (c) 2015 by FDC Crew
 *  Made by FDC Crew and released under MIT License
 */
!function(g,c,a){"use strict";var h="fdCookieLaw",o={config:"config.json",docs:"docs/docs.complete.json",page:"",banner:"",bannerPosition:"",bannerRejectButton:!1,bannerRejectButtonLabel:"Solo necessari",bannerAcceptAllButtonLabel:"Accetto tutto",bannerPrivacyButtonLabel:"Informativa estesa",bannerCloseButton:!0,bootstrap:!1,acceptOnScroll:"",callbackOnAccepted:null,callbackOnNotAccepted:null,callbackOnRejected:null,callbackOnChoiseChange:null,debug:!1};function t(e,t){this.element=e,this.settings=g.extend({},o,t),this._defaults=o,this._name=h,this.jsonDocs=this.settings.docs,this.init()}g.extend(t.prototype,{init:function(){!0===this.settings.debug&&console.log(h+": start"),this.plugInit(!1)},plugInit:function(e){this.getConfig(e)},getConfig:function(e,a){!0===this.settings.debug&&console.log(h+": getConfig() -> loading config"),g.ajax({url:this.settings.config,dataType:"json",success:e=>{"undefined"!==e.cookieBanner.rejectButton&&(this.settings.bannerRejectButton=e.cookieBanner.rejectButton),"undefined"!==e.cookieBanner.closeButton&&(this.settings.bannerCloseButton=e.cookieBanner.closeButton);var t=!1,o=!1,i=!1,c={};!0!==this.settings.banner&&!0!==e.cookieBanner.active||(!(c={cname:e.cookieBanner.cookieName,cvalue:e.cookieBanner.cookieValue,cvalue_rejected:e.cookieBanner.cookieValueRejected,exdays:e.cookieBanner.cookieExpire,buttons_label:{bannerRejectButtonLabel:(""!==e.cookieBanner.buttons_label.bannerRejectButtonLabel&&!1!==e.cookieBanner.buttons_label.bannerRejectButtonLabel?e.cookieBanner.buttons_label:this.settings).bannerRejectButtonLabel,bannerAcceptAllButtonLabel:(""!==e.cookieBanner.buttons_label.bannerAcceptAllButtonLabel&&!1!==e.cookieBanner.buttons_label.bannerAcceptAllButtonLabel?e.cookieBanner.buttons_label:this.settings).bannerAcceptAllButtonLabel,bannerPrivacyButtonLabel:(""!==e.cookieBanner.buttons_label.bannerPrivacyButtonLabel&&!1!==e.cookieBanner.buttons_label.bannerPrivacyButtonLabel?e.cookieBanner.buttons_label:this.settings).bannerPrivacyButtonLabel}})===this.cookieHunter(c)?(i=t=!0,null!==this.settings.callbackOnNotAccepted&&!1===a&&this.settings.callbackOnNotAccepted()):null!==this.settings.callbackOnAccepted&&this.settings.callbackOnAccepted()),""!==this.settings.page&&(o=t=!0),!0===t&&this.getDocsData(e,o,i,c)},error:()=>{!0===this.settings.debug&&console.log(h+": getConfig() -> ajax error loading config file"),g(this.element).html("<h1>Error!</h1>")}})},getDocsData:function(t,o,i,c){!0===this.settings.debug&&console.log(h+": getDocsData() -> loading documents"),g.ajax({url:this.jsonDocs,dataType:"json",success:e=>{if(!1!==i&&this.setBanner(t,e,c),!1!==o)switch(this.settings.page){case"privacy":this.getPrivacyPolicy(t,e);break;case"cookie":this.getCookiePolicy(t,e)}},error:()=>{!0===this.settings.debug&&console.log(h+": getDocsData() -> ajax error loading docs")}})},setBanner:function(e,t,o){!0===this.settings.debug&&console.log(h+": setBanner() -> start banner"),""===this.settings.acceptOnScroll?o.acceptOnScroll=e.cookieBanner.acceptOnScroll:o.acceptOnScroll=this.settings.acceptOnScroll,!0===this.settings.banner&&(o.position=e.cookieBanner.position,this.getCookieBanner(e,t,o)),""===this.settings.banner&&!1!==this.settings.banner&&!0===e.cookieBanner.active&&(o.position=e.cookieBanner.position,this.getCookieBanner(e,t,o))},generateListMarkup:function(e){var o=e.length,i="";return 0<o?(i="<ul>",g.each(e,function(e,t){i+="<li>"+t+(e===o-1?".":";")+"</li>"}),i+="</ul>"):i="",i},getPrivacyPolicy:function(e,t){!0===this.settings.debug&&console.log(h+": getPrivacyPolicy() --\x3e load page"),!0===this.settings.debug&&console.log(h+": getPrivacyPolicy() --\x3e docs: "+JSON.stringify(t));var o=t.privacy_policy_docs["privacy-policy"],t={hosting:t.privacy_policy_docs.hosting,newsletter:t.privacy_policy_docs.newsletter,contactform:t.privacy_policy_docs.contactform,ecommerce:t.privacy_policy_docs.ecommerce,siteaccount:t.privacy_policy_docs.siteaccount},i="",c="",a="",s="",n="",r=e.privacyPolicy.deviceData.length,l=e.privacyPolicy.personalData.length,d="",p=e.privacyPolicy.purposes.length,n=(n+="<p><strong>"+e.privacyPolicy.deviceDataTitle+"</strong><br>")+("<small><em>"+e.privacyPolicy.deviceDataDesc+"</em></small></p>");g.each(e.privacyPolicy.deviceData,function(e,t){n+=(0===e?"<ul>":"")+"<li>"+t+(e===r-1?".":";")+"</li>"+(e===r-1?"</ul>":"")}),s=(s+="<p><strong>"+e.privacyPolicy.personalDataTitle+"</strong><br>")+"<small><em>"+e.privacyPolicy.personalDataDesc+"</em></small></p>",g.each(e.privacyPolicy.personalData,function(e,t){s+=(0===e?"<ul>":"")+"<li>"+t+(e===l-1?".":";")+"</li>"+(e===l-1?"</ul>":"")}),g.each(e.privacyPolicy.purposes,function(e,t){d+=(0===e?"<ul>":"")+"<li>"+t+(e===p-1?".":";")+"</li>"+(e===p-1?"</ul>":"")}),!0===this.settings.debug&&console.log(h+": getPrivacyPolicy() --\x3e load services"),!0===e.privacyPolicy.contactForm.active&&(i=this.generateListMarkup(e.privacyPolicy.contactForm.personalData),t.contactform=t.contactform.replace(/\[\[CONTACTFORM DATA\]\]/g,i),i=this.generateListMarkup(e.privacyPolicy.contactForm.storage),t.contactform=t.contactform.replace(/\[\[CONTACTFORM DATA STORAGE\]\]/g,i),c+=t.contactform),!0===e.privacyPolicy.account.active&&(i=this.generateListMarkup(e.privacyPolicy.account.personalData),t.siteaccount=t.siteaccount.replace(/\[\[ACCOUNT DATA\]\]/g,i),i=this.generateListMarkup(e.privacyPolicy.account.storage),t.siteaccount=t.siteaccount.replace(/\[\[ACCOUNT DATA STORAGE\]\]/g,i),c+=t.siteaccount),!0===e.privacyPolicy.ecommerce.active&&(i=this.generateListMarkup(e.privacyPolicy.ecommerce.personalData),t.ecommerce=t.ecommerce.replace(/\[\[ECOMMERCE DATA\]\]/g,i),i=this.generateListMarkup(e.privacyPolicy.account.storage),t.ecommerce=t.ecommerce.replace(/\[\[ECOMMERCE DATA STORAGE\]\]/g,i),c+=t.ecommerce),!1!==e.privacyPolicy.thirdpartyDataStorage&&(!1!==e.privacyPolicy.thirdpartyDataStorage.hosting.home&&""!==e.privacyPolicy.thirdpartyDataStorage.hosting.home&&(e.privacyPolicy.thirdpartyDataStorage.hosting.provider='<a href="'+e.privacyPolicy.thirdpartyDataStorage.hosting.home+'">'+e.privacyPolicy.thirdpartyDataStorage.hosting.provider+"</a>"),!1!==e.privacyPolicy.thirdpartyDataStorage.hosting.policy&&""!==e.privacyPolicy.thirdpartyDataStorage.hosting.policy?e.privacyPolicy.thirdpartyDataStorage.hosting.policy='<a href="'+e.privacyPolicy.thirdpartyDataStorage.hosting.policy+'">'+e.privacyPolicy.thirdpartyDataStorage.hosting.policy+"</a>":e.privacyPolicy.thirdpartyDataStorage.hosting.policy="",t.hosting=t.hosting.replace(/\[\[HOSTING PROVIDER\]\]/g,e.privacyPolicy.thirdpartyDataStorage.hosting.provider),t.hosting=t.hosting.replace(/\[\[HOSTING DATACENTER\]\]/g,e.privacyPolicy.thirdpartyDataStorage.hosting.datacenter),t.hosting=t.hosting.replace(/\[\[HOSTING DATA ADMINISTRATOR\]\]/g,e.privacyPolicy.thirdpartyDataStorage.hosting.data_administrator),t.hosting=t.hosting.replace(/\[\[HOSTING POLICY\]\]/g,e.privacyPolicy.thirdpartyDataStorage.hosting.policy),!1!==e.privacyPolicy.thirdpartyDataStorage.newsletter.active?(!1!==e.privacyPolicy.thirdpartyDataStorage.newsletter.home&&""!==e.privacyPolicy.thirdpartyDataStorage.newsletter.home&&(e.privacyPolicy.thirdpartyDataStorage.newsletter.provider='<a href="'+e.privacyPolicy.thirdpartyDataStorage.newsletter.home+'">'+e.privacyPolicy.thirdpartyDataStorage.newsletter.provider+"</a>"),!1!==e.privacyPolicy.thirdpartyDataStorage.newsletter.policy&&""!==e.privacyPolicy.thirdpartyDataStorage.newsletter.policy?e.privacyPolicy.thirdpartyDataStorage.newsletter.policy='<a href="'+e.privacyPolicy.thirdpartyDataStorage.newsletter.policy+'">'+e.privacyPolicy.thirdpartyDataStorage.newsletter.policy+"</a>":e.privacyPolicy.thirdpartyDataStorage.newsletter.policy="",t.newsletter=t.newsletter.replace(/\[\[NEWSLETTER PROVIDER\]\]/g,e.privacyPolicy.thirdpartyDataStorage.newsletter.provider),t.newsletter=t.newsletter.replace(/\[\[NEWSLETTER DATACENTER\]\]/g,e.privacyPolicy.thirdpartyDataStorage.newsletter.datacenter),t.newsletter=t.newsletter.replace(/\[\[NEWSLETTER DATA ADMINISTRATOR\]\]/g,e.privacyPolicy.thirdpartyDataStorage.newsletter.data_administrator),t.newsletter=t.newsletter.replace(/\[\[NEWSLETTER PROVIDER POLICY\]\]/g,e.privacyPolicy.thirdpartyDataStorage.newsletter.policy)):t.newsletter="",a=(a+=t.hosting)+t.newsletter),o=(o=(o=(o=(o=(o=o.replace(/\[\[SERVIZI DI TERZE PARTI\]\]/g,a)).replace(/\[\[SERVIZI DI PRIMA PARTE\]\]/g,c)).replace(/\[\[NOME SITO\]\]/g,e.globals.site.name)).replace(/\[\[URL SITO\]\]/g,e.globals.site.url)).replace(/\[\[SOCIETA-RESPONSABILE\]\]/g,e.globals.company.name)).replace(/\[\[INDIRIZZO\]\]/g,e.globals.company.address),""!==e.globals.company.vatNumber&&(i=e.globals.company.vatLabel+" "+e.globals.company.vatNumber,o=o.replace(/\[\[PIVA\]\]/g,i)),o=(o=(o=(o=(o=(o=o.replace(/\[\[NOME E COGNOME DEL RESPONSABILE\]\]/g,e.globals.administrator.name)).replace(/\[\[EMAIL DI CONTATTO\]\]/g,e.globals.site.email)).replace(/\[\[DATI DISPOSITIVO\]\]/g,n)).replace(/\[\[DATI PERSONALI\]\]/g,s)).replace(/\[\[SCOPI RACCOLTA DATI\]\]/g,d)).replace(/\[\[LUOGO TRATTAMENTO\]\]/g,e.globals.dataStorageLocation),g(this.element).html(o)},getCookiePolicy:function(e,t){!0===this.settings.debug&&console.log(h+": getCookiePolicy()"),!0===this.settings.debug&&console.log(h+": getCookiePolicy() config: "+JSON.stringify(e)),!0===this.settings.debug&&console.log(h+": getCookiePolicy() docs: "+JSON.stringify(t));var o=t.cookie_policy_docs["informativa-estesa"],o=(!0===this.settings.debug&&console.log(h+": getCookiePolicy() markup: "+JSON.stringify(o)),o=(o=(o=(o=(o=o.replace(/\[\[NOME SITO\]\]/g,e.globals.site.name)).replace(/\[\[URL SITO\]\]/g,e.globals.site.url)).replace(/\[\[NOME E COGNOME DEL RESPONSABILE\]\]/g,e.globals.administrator.name)).replace(/\[\[ELENCO SERVIZI\]\]/g,'<div id="cookiePolicyServices" class="fdctool__services panel-group" role="tablist" aria-multiselectable="true"></div>')).replace(/\[\[PRIVACY-POLICY\]\]/g,'<a href="'+e.privacyPolicy.url+'" class="fdc-cookielaw__privacy-link">LINK</a>'),g(this.element).html(o),""),i={cname:e.cookieBanner.cookieName,cvalue:e.cookieBanner.cookieValue,cvalue_rejected:e.cookieBanner.cookieValueRejected,exdays:e.cookieBanner.cookieExpire},c=this.cookieHunter(i);o+='<div class="fdc-cookielaw__policy-buttons">    <button class="'+(!0===this.settings.bootstrap?"btn btn-primary":"button")+' on-policypage fdc-cookielaw__accept-button">Acconsento all\'uso dei cookie</button>    <button class="'+(!0===this.settings.bootstrap?"btn btn-danger":"button button-red")+" on-policypage fdc-cookielaw__reject-button\">Rimuovo il consenso all'uso dei cookie</button></div>",g(this.element).append(o),console.log("cookieHunter VAR: "+c),!1===c?(g(".fdc-cookielaw__reject-button.on-policypage").hide(),g(".fdc-cookielaw__accept-button.on-policypage").fadeIn()):(g(".fdc-cookielaw__accept-button.on-policypage").hide(),g(".fdc-cookielaw__reject-button.on-policypage").fadeIn()),this.cookieAcceptClick(i),this.cookieRejectClick(i),this.getServices(e,t)},getServices:function(r,l){g.each(r.cookiePolicy.services,(e,t)=>{var o,i,c,a,s,n;!0===t.active&&(t=r.cookiePolicy.services[e].catLabel,o="servicesTool-"+r.cookiePolicy.services[e].catName,i=!0===this.settings.bootstrap?" panel panel-default":"",c=!0===this.settings.bootstrap?" panel-heading":"",a=!0===this.settings.bootstrap?" panel-title":"",s=!0===this.settings.bootstrap?" panel-collapse"+(0===e?" collapse in":" collapse"):"",n=!0===this.settings.bootstrap?" panel-body":"",g("#cookiePolicyServices").append('<div id="'+o+'" class="fdctool__services_cat panel'+i+'"></div>'),g("#"+o).append('<div class="fdctool__services_cat-heading'+c+'" role="tab" id="'+o+'Heading"> <h4 class="fdctool__services_cat-title'+a+'"><a role="button" data-toggle="collapse" data-parent="#'+o+'" href="#'+o+'Collapse" aria-expanded="true" aria-controls="'+o+'Collapse">'+t+"</a></h4></div>"),g("#"+o).append('<div id="'+o+'Collapse" class="fdctool__services_cat-items'+s+'" role="tabpanel" aria-labelledby="'+o+'Heading"><div class="fdctool__services_cat-items-body'+n+'"></div></div>'),g.each(r.cookiePolicy.services[e].services,(e,t)=>{!0===t&&(t=l.cookie_policy_docs[e],void 0!==(t+=this.serviceChoise_buttonBar_markup(r,e))&&(t=(t=t.replace(/\[\[NOME SITO\]\]/g,r.globals.site.name)).replace(/\[\[URL SITO\]\]/g,r.globals.site.url),g("#"+o).find(".fdctool__services_cat-items-body").append(t)))}))}),this.serviceChoise_buttonBar_click(r)},getBannerText:function(e,t){var o="";return!1===e.cookieBanner.text.customText||""===e.cookieBanner.text.customText?(!0===this.settings.debug&&console.log(h+": getBannerText() -> load text"),!0===e.cookieBanner.text.techCookies&&!1===e.cookieBanner.text.profCookies&&(o=t.cookie_policy_docs.banner_tech),!0===e.cookieBanner.text.techCookies&&!0===e.cookieBanner.text.profCookies&&(o=t.cookie_policy_docs["banner_tech-prof"]),!1===e.cookieBanner.text.techCookies&&!0===e.cookieBanner.text.profCookies&&(o=t.cookie_policy_docs.banner_prof)):(!0===this.settings.debug&&console.log(h+": getBannerText() -> load custom text"),o=e.cookieBanner.text.customText),o},getCookieBanner:function(e,t,o){var i;!0===this.settings.debug&&console.log(h+": getCookieBanner() -> load banner"),!1===this.cookieHunter(o)&&(o.text=this.getBannerText(e,t),o.textLink='<a href="'+e.cookiePolicy.url+'" title="Informativa Estesa">informativa estesa</a>',o.text=o.text.replace(/\[\[INFORMATIVA-ESTESA\]\]/g,o.textLink),o.text=o.text.replace(/\[\[NOME SITO\]\]/g,e.globals.site.name),t='<div id="fdCookieLawBanner" class="fdc-cookielaw__banner '+o.position+'Banner">',i={cname:e.cookieBanner.cookieName,cvalue:e.cookieBanner.cookieValue,cvalue_rejected:e.cookieBanner.cookieValueRejected,exdays:e.cookieBanner.cookieExpire},t=!0===this.settings.bootstrap?(t=(t=(t+='   <div class="container-fluid">       <div class="row">           <div class="fdc-cookielaw__banner-text col-md-12">')+o.text+'           </div>       </div>       <div class="row">')+'           <div class="fdc-cookielaw__banner-buttons col-md-12">               <a href="'+e.cookiePolicy.url+'" class="btn btn-primary privacy">'+o.buttons_label.bannerPrivacyButtonLabel+"</a>",!0===this.settings.bannerRejectButton&&(t+='               <a href="#" class="btn btn-danger fdc-cookielaw__reject-button">'+o.buttons_label.bannerRejectButtonLabel+"</a>"),t+('               <a href="#" id="cookieAccept" class="btn btn-success accept fdc-cookielaw__accept-button">'+o.buttons_label.bannerAcceptAllButtonLabel)+"</a>           </div>       </div>   </div>"):(t=(t=(t+='   <div class="fdc-cookielaw__banner-text">')+o.text+"   </div>")+'   <div class="fdc-cookielaw__banner-buttons">       <a href="'+e.cookiePolicy.url+'" class="button privacy">'+o.buttons_label.bannerPrivacyButtonLabel+"</a>",!0===this.settings.bannerRejectButton&&(t+='               <a href="#" class="button button-red reject fdc-cookielaw__reject-button">'+o.buttons_label.bannerRejectButtonLabel+"</a>"),t+('       <a href="#" id="cookieAccept" class="fdc-cookielaw__accept-button button accept button-green">'+o.buttons_label.bannerAcceptAllButtonLabel)+"</a>   </div>"),!0===this.settings.bannerCloseButton&&(t+='<div class="fdc-cookielaw__banner-close fdc-cookielaw__reject-button"><span>X</span></div>'),t+="</div>",g("body").append(t),g("body").promise().done(function(){setTimeout(function(){g("#fdCookieLawBanner").addClass("showBanner")},100)}),this.cookieAcceptClick(o),this.cookieRejectClick(i),!0===o.acceptOnScroll&&g(c).one("scroll",function(){g("#fdCookieLawBanner").removeClass("showBanner"),setTimeout(function(){g("#fdCookieLawBanner").remove()},1e3),this.writeCookie(o.cname,o.cvalue,o.exdays)}))},cookieAcceptClick:function(t){g(".fdc-cookielaw__accept-button").on("click",e=>{e.preventDefault(),this.cookieAccept(t,!0)})},cookieAccept:function(e,t){g("#fdCookieLawBanner").removeClass("showBanner"),setTimeout(function(){g("#fdCookieLawBanner").remove()},1e3),g(".fdc-cookielaw__accept-button.on-policypage").hide(),g(".fdc-cookielaw__reject-button.on-policypage").fadeIn(),this.writeCookie(e.cname,e.cvalue,e.exdays),!0===t&&(this.servicesChoise_handleAll(e.cname,!0),this.serviceChoise_buttonBar_acceptAllUpdate()),null!==this.settings.callbackOnAccepted&&this.settings.callbackOnAccepted()},cookieRejectClick:function(t){g(".fdc-cookielaw__reject-button").on("click",e=>{e.preventDefault(),this.cookieReject(t)})},cookieReject:function(e){this.writeCookie(e.cname,e.cvalue_rejected,e.exdays),this.servicesChoise_handleAll(e.cname,!1),0<g("#fdCookieLawBanner").length?(console.log("banner exists on reject"),g("#fdCookieLawBanner").removeClass("showBanner")):this.plugInit(!0),null!==this.settings.callbackOnRejected&&this.settings.callbackOnRejected()},searchService:function(t,o,i){!0===this.settings.debug&&console.log(h+": searchService() -> start"),g.ajax({url:this.settings.config,dataType:"json",success:e=>{!0===this.settings.debug&&console.log(h+": searchService() -> get config"),!0===this.settings.debug&&console.log(h+": config: "+JSON.stringify(e)),(!0===this.serviceChoise_serviceHunter(e,t)?o:i)()},error:()=>{!0===this.settings.debug&&console.log(h+": searchService() -> AJAXERROR! getting config")}})},serviceChoise_serviceHunter:function(e,t){!0===this.settings.debug&&console.log(h+": serviceChoise_serviceHunter() -> launching readCookie");e=e.cookieBanner.cookieName+"_services",e=(e=this.readCookie(e)).split(",");return-1!==g.inArray(t,e)},serviceChoise_handleServiceCookie:function(e,t,o,i){!0===this.settings.debug&&console.log(h+": serviceChoise_handleServiceCookie() -> launching readCookie");var c,a,s=e.cookieBanner.cookieName+"_services",n=this.readCookie(s),r={action:o,changed:t,allowed_services:""},l={cname:e.cookieBanner.cookieName,cvalue:e.cookieBanner.cookieValue,cvalue_rejected:e.cookieBanner.cookieValueRejected,exdays:e.cookieBanner.cookieExpire};switch(o){case"add":void 0!==n&&""!==n&&n!==l.cvalue_rejected?(n=n.split(","),-1===g.inArray(t,n)&&n.push(t),c=(r.allowed_services=n).toString()):(r.allowed_services=[t],c=t,this.cookieAccept(l,!1)),this.writeCookie(e.cookieBanner.cookieName+"_"+t,"true",e.cookieBanner.cookieExpire);break;case"remove":void 0!==n&&""!==n&&(-1<(a=(n=n.split(",")).indexOf(t))&&n.splice(a,1),""===(c=(r.allowed_services=n).toString())&&(r.allowed_services=[],c=l.cvalue_rejected,this.cookieReject(l)),this.writeCookie(e.cookieBanner.cookieName+"_"+t,"false",e.cookieBanner.cookieExpire))}null!==this.settings.callbackOnChoiseChange&&!0===i&&this.settings.callbackOnChoiseChange(r),this.writeCookie(s,c,e.cookieBanner.cookieExpire)},servicesChoise_handleAll:function(e,t){var i=e+"_services";g.ajax({url:this.settings.config,dataType:"json",success:o=>{!0===this.settings.debug&&console.log(h+": servicesChoise_acceptAll() -> config loaded!"),!0===t?g.each(o.cookiePolicy.services,e=>{!0===this.active&&g.each(o.cookiePolicy.services[e].services,(e,t)=>{!0===t&&this.serviceChoise_handleServiceCookie(o,e,"add",!1)})}):(this.writeCookie(i,"rejected",365),g.each(o.cookiePolicy.services,function(e){g.each(o.cookiePolicy.services[e].services,e=>{this.serviceChoise_handleServiceCookie(o,e,"remove",!1)})}))},error:()=>{!0===this.settings.debug&&console.log(h+": servicesChoise_acceptAll() -> AJAX ERROR!")}})},serviceChoise_buttonBar_markup:function(e,t){var o,i,c,a,s={},e=!0===this.serviceChoise_serviceHunter(e,t)?(o=' disabled="disabled"',i="","accepted"):(o="",i=' disabled="disabled"',"rejected");return!0===this.settings.bootstrap?(c="btn btn-primary",a="btn btn-danger",s.panel="panel panel-default ",s.heading="panel-heading ",s.title="panel-title ",s.body="panel-body "):(c="button",a="button button-red",s.panel="",s.heading="",s.title="",s.body=""),' <div class="'+s.panel+"fdctool__services_item-choise "+e+'" data-cookie="'+t+'">\n   <div class="'+s.heading+'fdctool__services_item-choise-heading">\n       <h6 class="'+s.title+'fdctool__services_item-choise-title">La tua scelta: <span class="choise-label accepted"><span class="glyphicon glyphicon-ok-circle"></span> accettato</span><span class="choise-label rejected"><span class="glyphicon glyphicon-ban-circle"></span> non accettato</span></h6>\n   </div>\n   <div class="'+s.body+'fdctool__services_item-choise-panelbody">\n       <p>Decidi se attivare o meno questo cookie. Ricorda che disabilitando questo cookie potresti non poter usufruire di alcuni servizi offerti da questo sito.</p>\n       <div class="fdctool__services_item-choise-buttons">\n           <button class="'+c+' item-choise-btn accept"'+o+'>Abilita</button>\n           <button class="'+a+' item-choise-btn reject"'+i+'>Disabilita</button>\n       </div>\n       <div class="fdctool__services_item-choise-msg">\n           <span class="glyphicon glyphicon-floppy-saved"></span> La tua scelta Ã¨ stata salvata!\n       </div>\n    </div>\n </div>'},serviceChoise_buttonBar_click:function(i){g(".fdctool__services_item-choise").find(".item-choise-btn").on("click",e=>{e.preventDefault(),console.log("clicked target: "+e.target);var t=g(e.target).closest(".fdctool__services_item-choise").data("cookie"),o=g(e.target).closest(".fdctool__services_item-choise").find(".fdctool__services_item-choise-msg");console.log("clicked service: "+t),o.hide(),g(e.target).hasClass("accept")?(this.serviceChoise_handleServiceCookie(i,t,"add",!0),g(e.target).attr("disabled",!0),g(e.target).closest(".fdctool__services_item-choise").find(".reject").attr("disabled",!1),g(e.target).closest(".fdctool__services_item-choise").removeClass("rejected"),g(e.target).closest(".fdctool__services_item-choise").addClass("accepted")):(this.serviceChoise_handleServiceCookie(i,t,"remove",!0),g(e.target).attr("disabled",!0),g(e.target).closest(".fdctool__services_item-choise").find(".accept").attr("disabled",!1),g(e.target).closest(".fdctool__services_item-choise").removeClass("accepted"),g(e.target).closest(".fdctool__services_item-choise").addClass("rejected")),o.fadeIn(),setTimeout(function(){o.fadeOut()},2e3)})},serviceChoise_buttonBar_acceptAllUpdate:function(){g(".fdctool__services_item-choise").removeClass("rejected"),g(".fdctool__services_item-choise").addClass("accepted"),g(".fdctool__services_item-choise").find(".item-choise-btn.accept").attr("disabled",!0),g(".fdctool__services_item-choise").find(".item-choise-btn.reject").attr("disabled",!1)},cookieHunter:function(e){!0===this.settings.debug&&console.log(h+": cookieHunter() bannerData: "+e),!0===this.settings.debug&&console.log(h+": cookieHunter() launch readCookie");var t=this.readCookie(e.cname),t=void 0===t||t===e.cvalue||t===e.cvalue_rejected;return t},writeCookie:function(e,t,o){!0===this.settings.debug&&console.log(h+": writeCookie("+e+" "+t+" "+o+")");var i=new Date,o=(i.setTime(i.getTime()+24*o*60*60*1e3),"expires="+i.toUTCString());a.cookie=e+"="+t+"; "+o+"; path=/ "},readCookie:function(e){!0===this.settings.debug&&console.log(h+": readCookie("+e+")");for(var t=e+"=",o=a.cookie.split(";"),i=0;i<o.length;i++){for(var c=o[i];" "==c.charAt(0);)c=c.substring(1);if(0===c.indexOf(t))return c.substring(t.length,c.length)}return""}}),g.fn[h]=function(e){return this.each(function(){g.data(this,"plugin_"+h)||g.data(this,"plugin_"+h,new t(this,e))})}}(jQuery,window,document);